<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>JobTracker — Otomatik İş Başvuru Takip Sistemi</title>

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    :root{
      --accent: linear-gradient(90deg,#6a11cb 0%,#2575fc 100%);
      --glass: rgba(255,255,255,0.06);
      --muted: #6b7280;
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    body{background: #0f1724; color: #e6eef8;}
    .navbar-brand strong{background: -webkit-linear-gradient(90deg,#fff 0%,#e6eef8 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;}
    .hero{
      background: radial-gradient(ellipse at top left, rgba(37,117,252,0.12), transparent 20%), radial-gradient(ellipse at bottom right, rgba(106,17,203,0.08), transparent 20%);
      padding: 4.5rem 0;
    }
    .glass-card{background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02)); border: 1px solid rgba(255,255,255,0.06); backdrop-filter: blur(6px);}
    .feature-icon{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.03);}
    .small-muted{color:var(--muted);font-size:0.9rem}
    .card-ghost{background:transparent;border:0}
    .table-transparent thead th{border-bottom:1px solid rgba(255,255,255,0.06);}
    .btn-accent{background:var(--accent); border:0; color:white}
    footer{color:var(--muted);padding:2rem 0}
    @media (max-width:767px){ .hero {padding:3rem 0} }
  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark py-3">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="#">
      <div class="me-3 bg-white rounded-circle p-2" style="width:46px;height:46px;display:flex;align-items:center;justify-content:center">
        <i class="fas fa-briefcase" style="color:#2575fc"></i>
      </div>
      <div>
        <strong>JobTracker</strong>
      </div>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav ms-auto align-items-lg-center">
        <li class="nav-item"><a class="nav-link" href="#features">Özellikler</a></li>
        <li class="nav-item"><a class="nav-link" href="#analytics">Analizler</a></li>
        <li class="nav-item"><a class="nav-link" href="#how">Nasıl Çalışır</a></li>
        <li class="nav-item"><a class="nav-link" href="#pricing">Ayarlar</a></li>
        <li class="nav-item ms-3">
          <!-- Django template: show login/register or profile links depending on auth -->
          {% if user.is_authenticated %}
            <a class="btn btn-outline-light" href="{% url 'dashboard' %}">Dashboard</a>
          {% else %}
            <a class="btn btn-outline-light" href="{% url 'login' %}">Giriş Yap</a>
          {% endif %}
        </li>
      </ul>
    </div>
  </div>
</nav>

<header class="hero">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <h1 class="display-5 fw-bold">İş başvuruları artık kaybolmayacak — otomatik, akıllı ve görsel.</h1>
        <p class="lead text-muted">Gmail hesabınızı bağlayın, Gemini ile mailleri analiz edin ve başvurularınızı "Başvuru Alındı"dan "Kabul"e kadar otomatik olarak takip edin. CSV'ler, detaylı analizler ve anlık bildirimlerle süreci hızlandırın.</p>

        <div class="d-flex gap-2 mt-4">
          <a class="btn btn-lg btn-accent shadow-sm" href="#">Hemen Başla</a>
          <a class="btn btn-lg btn-outline-light" href="#how">Nasıl Çalışır?</a>
        </div>

        <div class="d-flex gap-3 align-items-center mt-4 small-muted">
          <div><i class="fas fa-check-circle me-2"></i> Gemini entegrasyonu</div>
          <div><i class="fas fa-check-circle me-2"></i> Kullanıcı tabanlı ayarlar</div>
          <div><i class="fas fa-check-circle me-2"></i> CSV & görselleştirme</div>
        </div>
      </div>

      <div class="col-lg-6 mt-4 mt-lg-0">
        <div class="glass-card p-4 rounded-4 shadow-sm">
          <!-- Quick dashboard mockup -->
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <h6 class="mb-1">Bugünkü Tarama</h6>
              <h3 class="mb-0">42 e-posta</h3>
              <div class="small-muted">İş başvurusu adayı: 12</div>
            </div>
            <div class="text-end">
              <div class="small-muted">Durum</div>
              <span class="badge bg-success">Çalışıyor</span>
            </div>
          </div>

          <hr class="my-3" style="border-color: rgba(255,255,255,0.04)">

          <div class="row g-2">
            <div class="col-6">
              <div class="card card-ghost p-3 rounded-3">
                <div class="small-muted">Başvuru Alındı</div>
                <h5>7</h5>
              </div>
            </div>
            <div class="col-6">
              <div class="card card-ghost p-3 rounded-3">
                <div class="small-muted">Mülakat</div>
                <h5>3</h5>
              </div>
            </div>
            <div class="col-6">
              <div class="card card-ghost p-3 rounded-3">
                <div class="small-muted">Kabul</div>
                <h5>1</h5>
              </div>
            </div>
            <div class="col-6">
              <div class="card card-ghost p-3 rounded-3">
                <div class="small-muted">Reddedildi</div>
                <h5>2</h5>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</header>

<section id="features" class="py-5">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <h3>Öne Çıkan Özellikler</h3>
        <p class="small-muted">Sistemin güçlü yönleri — basit, şeffaf ve özelleştirilebilir.</p>

        <div class="mt-4">
          <div class="d-flex mb-3 gap-3 align-items-start">
            <div class="feature-icon"><i class="fas fa-envelope fa-lg"></i></div>
            <div>
              <h6 class="mb-0">Gmail Entegrasyonu</h6>
              <div class="small-muted">Belirlenen aralıkta Gmail API ile mailler otomatik çekilir ve iş başvurusu olanlar analiz edilir.</div>
            </div>
          </div>

          <div class="d-flex mb-3 gap-3 align-items-start">
            <div class="feature-icon"><i class="fas fa-robot fa-lg"></i></div>
            <div>
              <h6 class="mb-0">Gemini ile Akıllı Analiz</h6>
              <div class="small-muted">Konu, gönderen ve içerik bazlı sınıflandırma; spam filtresi ve önceliklendirme.</div>
            </div>
          </div>

          <div class="d-flex mb-3 gap-3 align-items-start">
            <div class="feature-icon"><i class="fas fa-chart-simple fa-lg"></i></div>
            <div>
              <h6 class="mb-0">Zengin Görselleştirme</h6>
              <div class="small-muted">Durum dağılımı, aylık trendler, şirket başarı oranları ve 8 haftalık aktivite grafikleri.</div>
            </div>
          </div>

        </div>
      </div>

      <div class="col-lg-6">
        <div class="glass-card p-4 rounded-4">
          <h6>Başvurular</h6>
          <div class="table-responsive mt-3">
            <table class="table table-transparent text-light table-sm">
              <thead>
                <tr>
                  <th>Konu</th>
                  <th>Gönderen</th>
                  <th>Durum</th>
                  <th>Tarih</th>
                </tr>
              </thead>
              <tbody>
                {% comment %} Django ile dinamik doldurun: gelen başvurular için loop {% endcomment %}
                {% for app in applications|slice:":5" %}
                <tr>
                  <td>{{ app.subject|truncatechars:50 }}</td>
                  <td>{{ app.sender_name }}</td>
                  <td><span class="badge bg-secondary">{{ app.get_status_display }}</span></td>
                  <td class="small-muted">{{ app.created_at|date:"d M Y" }}</td>
                </tr>
                {% empty %}
                <tr><td colspan="4" class="small-muted">Henüz başvuru yok.</td></tr>
                {% endfor %}
              </tbody>
            </table>
          </div>

          <div class="d-flex justify-content-between align-items-center mt-3">
            <a href="" class="btn btn-sm btn-outline-light">Tümünü Görüntüle</a>
            <a href="" class="btn btn-sm btn-light">CSV İndir</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="analytics" class="py-5 bg-dark" style="background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent)">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <h3>Başvuru Analizleri</h3>
        <p class="small-muted mb-0">Hızlıca önemli metrikleri görselleştirin.</p>
      </div>
      <div>
        <button class="btn btn-sm btn-outline-light me-2">Filtrele</button>
        <button class="btn btn-sm btn-accent">Rapor Oluştur</button>
      </div>
    </div>

    <div class="row g-4">
      <div class="col-lg-4">
        <div class="glass-card p-3 rounded-4">
          <h6 class="mb-3">Durum Dağılımı</h6>
          <canvas id="statusChart" height="240"></canvas>
        </div>
      </div>
      <div class="col-lg-8">
        <div class="glass-card p-3 rounded-4">
          <h6 class="mb-3">Aylık Başvuru Trendı</h6>
          <canvas id="monthlyChart" height="240"></canvas>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="glass-card p-3 rounded-4">
          <h6 class="mb-3">En Çok Başvuru Yapılan Şirketler</h6>
          <canvas id="topCompanies" height="180"></canvas>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="glass-card p-3 rounded-4">
          <h6 class="mb-3">8 Haftalık Aktivite</h6>
          <canvas id="weeklyActivity" height="180"></canvas>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="how" class="py-5">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <h3>Nasıl Çalışır?</h3>
        <ol class="small-muted">
          <li>Gmail API ile hesabınızı bağlayın ve tarama ayarlarını yapın.</li>
          <li>Gemini modeline gönderilecek e-posta sayısını ve tarih aralığını belirleyin.</li>
          <li>Model, konu/kimlik/mesaj bazlı sınıflandırma yapar ve veritabanına kaydeder.</li>
          <li>Başvurular sayfasından detayları görüntüleyin, CSV indirin ve grafiklerle analiz edin.</li>
        </ol>
      </div>
      <div class="col-lg-6">
        <div class="glass-card p-4 rounded-4">
          <h6>Ayarlar Örneği</h6>
          <form class="mt-3">
            <div class="mb-2">
              <label class="form-label small-muted">Gemini API Anahtarı</label>
              <input class="form-control" placeholder="***************" disabled>
            </div>
            <div class="row">
              <div class="col-6 mb-2">
                <label class="form-label small-muted">Kaç günlük mail</label>
                <input class="form-control" value="30" disabled>
              </div>
              <div class="col-6 mb-2">
                <label class="form-label small-muted">Analiz edilecek e-posta sayısı</label>
                <input class="form-control" value="200" disabled>
              </div>
            </div>

            <div class="d-flex gap-2 mt-3">
              <button class="btn btn-sm btn-accent" disabled>Kaydet</button>
              <button class="btn btn-sm btn-outline-light" disabled>Varsayılanları Sıfırla</button>
            </div>

            <div class="small-muted mt-3">* Bu arayüz örneğidir. Gerçek ayarlar uygulama içinde değiştirilebilir.</div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="pricing" class="py-5 bg-black-50">
  <div class="container text-center">
    <h3>Sık Kullanılan Ayarlar</h3>
    <p class="small-muted">Kullanıcıların sık değiştirdiği parametreleri hızlı erişimle sunun.</p>

    <div class="row justify-content-center mt-4">
      <div class="col-md-4">
        <div class="glass-card p-4 rounded-4">
          <h5>Tarama Aralığı</h5>
          <p class="small-muted">E-posta kaç günlük aralıklarla taransın.</p>
          <div class="d-flex gap-2 justify-content-center">
            <button class="btn btn-sm btn-outline-light">7 gün</button>
            <button class="btn btn-sm btn-outline-light">30 gün</button>
            <button class="btn btn-sm btn-outline-light">90 gün</button>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="glass-card p-4 rounded-4">
          <h5>Analiz Limit</h5>
          <p class="small-muted">Tek taramada maksimum kaç e-posta analiz edilsin.</p>
          <div class="d-flex gap-2 justify-content-center">
            <button class="btn btn-sm btn-outline-light">50</button>
            <button class="btn btn-sm btn-accent">200</button>
            <button class="btn btn-sm btn-outline-light">500</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="container d-flex justify-content-between align-items-center">
    <div>
      <strong>JobTracker</strong>
      <div class="small-muted">© {{ now|date:'Y' }}
          Tüm hakları saklıdır.</div>
    </div>
    <div class="small-muted">İletişim: <a href="mailto:your@email.com">your@email.com</a></div>
  </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
// Placeholder Chart.js kodu — Django view'dan veriyi JSON olarak inject edin
const statusCtx = document.getElementById('statusChart').getContext('2d');
new Chart(statusCtx, {
  type: 'doughnut',
  data: {
    labels: ['Başvuru Alındı','İnceleniyor','Mülakat','Kabul','Reddedildi','Geri Dönüş Bekleniyor'],
    datasets: [{
      data: [12,8,4,2,5,3],
      // renkleri backend üzerinden verin veya Chart.js default renklerini kullanın
    }]
  },
  options: {plugins:{legend:{position:'bottom'}}, responsive:true}
});

const monthlyCtx = document.getElementById('monthlyChart').getContext('2d');
new Chart(monthlyCtx, {type:'line',data:{labels:['May','Jun','Jul','Aug','Sep','Oct'],datasets:[{label:'Başvurular',data:[12,18,9,24,20,30],fill:true}]},options:{responsive:true}});

const topC = document.getElementById('topCompanies').getContext('2d');
new Chart(topC, {type:'bar',data:{labels:['Firma A','Firma B','Firma C','Firma D'],datasets:[{label:'Başvuru Sayısı',data:[12,9,7,4]}]},options:{indexAxis:'y',responsive:true}});

const weekC = document.getElementById('weeklyActivity').getContext('2d');
new Chart(weekC, {type:'line',data:{labels:['-7w','-6w','-5w','-4w','-3w','-2w','-1w','Bu Hafta'],datasets:[{label:'Aktivite',data:[2,4,3,5,6,8,9,7],fill:false}]},options:{responsive:true}});

</script>

</body>
</html>
